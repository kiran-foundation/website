---
import { getEntry } from "astro:content";
import Layout from "../../../layouts/Layout.astro";
import Hero from "../../../components/support-us/laptop/Hero.astro";

const confirmationEntry = await getEntry("support-us", "laptop/confirmation");

if (!confirmationEntry) throw new Error("Confirmation content not found");

const { title, subtitle, animation } = confirmationEntry.data;
---

<Layout title="Laptop Support - Confirmation">
  <main class="py-[120px]">
    <Hero collection="support-us" slug="laptop/hero" />

    <!-- Confirmation Section -->
    <section class="w-full flex flex-col items-center justify-center py-[60px]">
      <div
        class="w-full max-w-5xl mx-auto flex flex-col items-center text-center px-4"
      >
        <!-- Animation Container (Gray Square) -->
        <div
          class="bg-[#D3D3D3] w-[320px] h-[320px] md:w-[400px] md:h-[400px] rounded-lg flex items-center justify-center mb-12"
        >
          <script
            src="https://unpkg.com/@lottiefiles/lottie-player@2.0.12/dist/lottie-player.js"
            type="module"
            is:inline></script>

          <lottie-player
            src={animation || "/assets/animations/fallback.json"}
            background="transparent"
            speed="1"
            style="width: 250px; height: 250px; overflow: hidden;"
            direction="1"
            playMode="normal"
            loop
            autoplay
            id="lottie-player"
          >
          </lottie-player>
        </div>

        <!-- Thank You Message -->
        <h2
          class="text-[28px] sm:text-[32px] md:text-[36px] lg:text-[40px] font-merriweather font-bold leading-[130%] text-[#232323] mb-6 max-w-3xl"
        >
          {title}
        </h2>

        <p
          class="text-[18px] md:text-[20px] font-poppins font-normal leading-[150%] text-[#49494C] max-w-2xl"
        >
          {subtitle}
        </p>
      </div>
    </section>
  </main>
</Layout>
