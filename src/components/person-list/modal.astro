---
interface MediaLinks {
  linkedin?: string;
  instagram?: string;
  email?: string;
}

interface ModalProps {
  info: {
    title?: string;
    featured_image?: string;
    media?: MediaLinks;
    quote?: string;
    about?: string;
  };
  id: string;
}

const { info, id } = Astro.props as ModalProps;
const safeImage = info.featured_image || 'https://via.placeholder.com/150';
---

<div class="modal fade" id={id} tabindex="-1" aria-labelledby={`${id}-label`} aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header border-0">
        <h2 class="modal-title text-primary fw-bold" id={`${id}-label`}>
          {info.title || 'Team Member'}
        </h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body text-secondary">
        <div class="row">
          <div class="col-md-4 text-center">
            <img
              class="img-fluid rounded-circle border border-3 border-primary"
              src={safeImage}
              alt={info.title || 'Team member photo'}
              width="150"
              height="150"
              loading="lazy"
            />
            {info.media && (
              <div class="mt-3 d-flex justify-content-center">
                {info.media.linkedin && (
                  <a
                    href={info.media.linkedin}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="mx-2"
                    aria-label="LinkedIn profile"
                  >
                    <img
                      src="https://cdn-icons-png.flaticon.com/512/174/174857.png"
                      alt="LinkedIn"
                      width="30"
                      height="30"
                    />
                  </a>
                )}
                {info.media.instagram && (
                  <a
                    href={info.media.instagram}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="mx-2"
                    aria-label="Instagram profile"
                  >
                    <img
                      src="https://cdn-icons-png.flaticon.com/512/1384/1384031.png"
                      alt="Instagram"
                      width="30"
                      height="30"
                    />
                  </a>
                )}
              </div>
            )}
          </div>
          <div class="col-md-8">
            {info.quote && (
              <blockquote class="fst-italic text-warning fs-5 mb-3">
                "{info.quote}"
              </blockquote>
            )}
            <div class="text-black">
              {info.about || 'No additional information available.'}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>div>
  </div>
</div>
