---
// src/components/common/ImageViewer.astro
---

<div
  id="image-viewer"
  class="hidden fixed inset-0 z-50 bg-black/30 backdrop-blur p-4 flex items-center justify-center"
>
  <div class="relative max-w-full max-h-[90vh]">
    <button
      onclick="closeViewer()"
      class="absolute -top-10 right-0 text-white text-2xl hover:text-gray-300"
    >
      âœ•
    </button>

    <img
      id="viewer-image"
      src=""
      alt="Enlarged view"
      class="max-w-full max-h-[80vh] object-contain rounded-xl"
    />
  </div>
</div>

<script is:inline>
  function showImage(imageUrl, altText = "") {
    const viewer = document.getElementById("image-viewer");
    const img = document.getElementById("viewer-image");
    img.src = imageUrl;
    img.alt = altText;
    viewer.classList.remove("hidden");
  }

  function closeViewer() {
    document.getElementById("image-viewer").classList.add("hidden");
  }

  // Close with ESC key
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") closeViewer();
  });
</script>
