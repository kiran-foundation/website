---
import { getEntry } from "astro:content";

// Fetch FAQ data from Markdown
const faqData = (await getEntry("work", "items-volunteering/faq")).data;
const faqs = faqData.faqs;
---

<style>
  .faq-answer {
    max-height: 0;
    overflow: hidden;
    transition:
      max-height 0.4s ease,
      padding 0.3s ease;
  }

  input[type="checkbox"]:checked ~ .faq-answer {
    max-height: 300px; /* Adjustable height */
    padding-top: 16px;
    padding-bottom: 16px;
  }
</style>

<section class="max-w-[1296px] mx-auto px-4 xs:px-6 md:px-8 py-12 md:py-16">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <!-- Left Text Section -->
    <div class="space-y-4">
      <h2
        class="font-poppins font-semibold text-[28px] xs:text-[32px] sm:text-[36px] md:text-[40px] leading-tight tracking-tight text-[#1E1E1E]"
      >
        Any questions? <br /> Check out <span class="underline">FAQ</span>
      </h2>
      <p
        class="font-poppins font-medium text-[14px] sm:text-[16px] leading-[150%] text-[#494943]"
      >
        Certainly! The FAQ section provides answers to common questions. It
        covers a variety of topics and aims to address user queries efficiently.
      </p>
    </div>

    <!-- Right FAQ Accordion Section -->
    <div class="space-y-4 w-full">
      {
        faqs.map((faq: { question: unknown; answer: unknown }, index: any) => (
          <div class="border rounded-lg w-full px-4 py-2">
            <input type="checkbox" id={`faq-${index}`} class="peer hidden" />
            <label
              for={`faq-${index}`}
              class="flex justify-between items-center cursor-pointer py-4"
            >
              <span class="font-poppins font-semibold text-[16px] sm:text-[18px] leading-7">
                Q. {faq.question}
              </span>
              <span class="transition-transform duration-300 peer-checked:rotate-45 text-[24px] leading-none">
                +
              </span>
            </label>
            <div class="faq-answer font-thin leading-6 text-[#383D38] text-[14px] sm:text-[15px]">
              {faq.answer}
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>
