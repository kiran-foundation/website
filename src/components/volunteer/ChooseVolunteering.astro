---
import { getEntry } from "astro:content";
import Button from "../common/button.astro";
const volunteer = (await getEntry("home", "volunteer")).data;
import VolunteerSwiper from "../common/VolunteerSwiper.astro";

import { getCollection } from "astro:content";
const jobs = await getCollection("work", ({ id }) => {
  return id.startsWith("internship/") || id.startsWith("volunteering/");
});
---

<!-- Main Container -->
<div
  class="max-w-[1296px] mx-auto mt-[86px] lg:mt-[11.5rem] mb-16 lg:mb-[7.5rem] flex items-center justify-center flex-col p-1 !overflow-hidden "
>
  

  <!-- Volunteer Positions Section -->
  <section class="w-full ">
    <div class="text-center space-y-4 mb-16 lg:mb-24">
      <h2
        class="text-2xl md:text-2xl xl:text-[2rem] font-semibold font-poppins text-[#1E1E1E]"
      >
        {volunteer.heading}
      </h2>
    </div>
    <!-- -------------------------slider bar jobs ----------- -->
    <div class="mt-6 max-w-7xl">
      <VolunteerSwiper Data={jobs} />
    </div>

    <!-- Why Volunteer Section -->
    <section
      class="w-full flex flex-col lg:flex-row items-center justify-center lg:gap-8 xl:gap-16 overflow-hidden"
    >
      <div
        class="flex lg:hidden flex-col lg:flex-row items-center justify-center gap-8 md:gap-16 mb-16 mx-6"
      >
        <!-- Image Container -->
        <div
          class="w-full"
          data-aos="fade-left"
          data-aos-duration="600"
          data-aos-offset="280"
          data-disable-parallax-down="sm"
        >
          <img
            class="rounded-lg w-full h-auto object-cover"
            src="/assets/images/Homepage/why.png"
            alt="Volunteer illustration"
            loading="lazy"
          />
        </div>
      </div>

      <!-- Text Content -->
      <div
        class="mx-[24px] xl:mx-0 lg:max-w-[430px] lg:max-h-[980px] xl:max-w-[680px] xl:max-h-[750px] p-1"
      >
        <h2
          class="text-[24px] xl:text-[32px] mb-[24px] xl:mb-8 font-semibold text-[#1E1E1E] leading-[100%]"
        >
          {volunteer.title}
        </h2>
        <p
          class="text-[16px] xl:text-lg mb-[24px] xl:mb-8 lg:py-2 leading-[32px] xl:leading-[36px] font-poppins text-[#49494C]"
        >
          {volunteer.join_why1}
        </p>
        <p
          class="text-[16px] xl:text-lg mb-[24px] xl:mb-8 lg:py-2 leading-[32px] xl:leading-[36px] font-poppins text-[#49494C]"
        >
          {volunteer.join_why2}
        </p>
        <div
          class="flex flex-col sm:flex-row lg:flex-col xl:flex-row gap-4 md:gap-4 xl:gap-6 items-center"
        >
          <Button
            link="/volunteering"
            title="Become a Volunteer"
            btn="btn1"
            widthClass="w-full md:w-[235px] lg:w-full xl:w-[235px]"
            heightClass="h-[60px]"
          />
          <Button
            link="/volunteering"
            title="See All Positions"
            btn="btn3"
            widthClass="w-full md:w-[235px] lg:w-full xl:w-[235px]"
          />
        </div>
      </div>

      <!-- Image Container  -->
      <div
        class="w-full max-w-full md:max-w-[555px] lg:w-full hidden lg:flex mx-6 xl:mx-0"
         data-aos="fade-up-left"
      >
        <img
          class="rounded-lg w-full h-auto object-cover lg:w-[549px] lg:h-[549px]"
          src="/assets/images/Homepage/why.png"
          alt="Volunteer illustration"
          loading="lazy"
        />
      </div>
    </section>
  </section>

  <script
    src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"
  ></script>
</div>
